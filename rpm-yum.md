# linux 软件安装
## linux 软件安装分为两种基本方式, 源码包和RPM包(二进制包). 

所谓的脚本安装包, 并不是有第三种包, 而是把安装过程, 步骤, 写在一个脚本命令中, 通过运行脚本命令, 实现软件的安装, 安装的时候, 还是源码包和RPM包.

## 源码包:

就是直接能看到程序的源文件, 里面写的每一行代码, 都能看见, 这叫叫源码包.

## 源码包的优点:
1. 开源, 也就是能看到原始代码, 如果有能力, 可以修改源代码
2. 可以自由选择所需的功能
3. 软件是编译安装, 所以更适合自己的系统, 更加稳定也效率更高
4. 卸载方便, 通常是, 只需要将源码目录删除即可.

## 源码包的缺点:
1. 安装过程步骤较多, 尤其是安装较大的软件集合时, (如LAMP), 容易出现拼写错误
2. 因为是源码, 计算机不能识别, 它只能识别010101这样的二进制, 即机器码. 所以需要将源码转换成二进制码, 这个过程叫编译. 也就是说, 
源码包安装需要编译这一过程, 所花时间较长, 如果编译出错, 新手不易处理. 源码包不适合初学者.

## RPM包 / 二进制包:
Redhat Linux Packet Manager

RPM是Red Hat公司随Redhat Linux推出了一个软件包管理器，通过它能够更加轻松容易地实现软件的安装。

RPM包里面都包含可执行的二进制程序,也就是编译好的执行程序，这个程序和Windows的软件包中的.exe文件类似是可执行的

## RPM包的优点:
1. 包管理系统简单, 只通过几个命令就可以实现包的安装,升级, 查询和卸载
2. 安装速度比源码包快, 因为已经编译好了, 直接运行, 省了编译的时间

## RPM包的缺点:
1. 经过编译, 虽然省了源码包安装时的编译过程, 但是, 编译过后的文件, 看不到原始文件, 和 源代码, 无法知道软件是怎么写的.
2. 功能选择不如源码包灵活, 打包的人已经按一定的规范编译好了, 所以不能自由选择.
3. RPM包的依赖性问题, 类似于说, 要运行PHP文件, 除了要装PHP外, 还要装Apache等网页服务软件, 需要装Mysql数据库软件
当然这个只是类似的举例, 因为这几个都是相互独立的软件. 依赖性的意思是说, 当你要安装某个软件时, 需要有另外一个服务支持, 然后当你安装另外一个服务时, 那个服务又需要其他的服务支付.

## RPM 安装命令
```
rpm -ivh 包全名(安装或更新时需要全名)
 -i (install) 安装
 -v (verbose) 详细信息
 -h (hash) 显示进度
 --nodeps (不检测依赖性, 不推荐使用);
```

## RPM 升级命令
```
rpm -Uvh 包全名
 -U (upgrade) 升级
也可以直接使用 rpm -Uvh 包全名 进行安装操作
直接使用 -Uvh时, 如果已安装, 就会直接进行更新操作, 如果没有安装的软件, 就会先安装再更新.
```

## RPM 卸载命令
```
rpm -e 包名
 -e (erase) 卸载, 擦除
 ```

## YUM 安装
yum = Yellow dog Updater, Modified
主要功能是更方便的添加/删除/更新RPM包. 它能自动解决包的倚赖性问题.它能便于管理大量系统的更新问题
yum源, 相当于一个站点, 把所有可能用到的RPM软件包, 以及软件包所依赖的包, 全部放在一起, 方便用户添加,更新, 删除RPM包
它能自己解决包的依赖性问题, 依赖哪个包, 就自动搜索安装那个包, 省去人工一个一个安装依赖包的麻烦.
所以, 简单地说, YUM安装 , 本质上仍上RPM安装. 或者称为, 自动化的RPM安装.

搭建自己的光盘yum源
1. 挂载光盘
mkdir /mnt/cdrom ==>建立挂载点, 其实就是创建一个文件夹, 用来指定将光盘里的文件映射到这个文件夹来.
mount /dev/cdrom /mnt/cdrom/   ==> 挂载光盘, 将光盘(/dev/cdrom)里的内容, 映射到刚才建立的挂载点上, 这就是挂载动作.
可以理解为, 建立一个入口, 或者一个通道, 来访问其他磁盘. 将磁盘拿走, 挂载点里就没有内容.
2. 使自己的光盘yum源生效
vim CentOS-Media.repo 
在这个文件里进行设置
baseurl = file:///mnt/cdrom ==> 将源地址指定为自己的挂载地址
enable = 1; ==> 1表示生效

YUM查询
yum list 查询所有可用软件包列表
yum search 关键字  查询服务器上所有和关键字相关的包

YUM安装
yum -y install 包名
-y 自动回答yes
install 安装
例: yum -y install httpd  ==>自动安装Apache, yum安装只写包名即可, 

YUM升级
yum -y update 包名
-y 自动回答yes
update 升级
注意: 这里的包名必须要写, 如果不写的话, 默认就是更新整个服务器上的所有安装软件, 包括linux内核等, 有可能会导致系统问题.

YUM卸载
yum -y remove 包名
包名必须写, 同时, 服务器使用最小化安装, 用什么软件, 装什么软件, 不要多装. 尽量不卸载, 因为卸载也有依赖性的问题, YUM会自动将要卸载的包, 所依赖的包全部删除.
而被删除的依赖包, 有可能同时被其他软件所依赖, 这就会导致在其他软件无法正常使用的情况.

YUM软件组管理命令
软件组, 可以看成是多个软件的一个集合(比如说语言包组, 同时支持几十种语言.). 安装与卸载时, 都是批量处理整个集合里的软件, 省去了一个个安装的麻烦
yum grouplist  列出所有可用的软件组列表
yum groupinstall 软件组名, 安装软件组
yum groupremove 软件组名, 卸载指定软件组

===========================================================================================
源码安装
直接从要安装软件的官方网站下载源码包, 下载到服务器之后, 先解压, 然后 通过 gcc 编译器, 编译成机器语言010101这种计算机能够直接执行的二进制代码, 进行安装的方法
通常所说的GCC是GUN Compiler Collection的简称，除了编译程序之外，它还含其他相关工具，所以它能把易于人类使用的高级语言编写的源代码构建成计算机能够直接执行的二进制代码。GCC是Linux平台下最常用的编译程序，它是Linux平台编译器的事实标准。同时，在Linux平台下的嵌入式开发领域，GCC也是用得最普遍的一种编译器。
step 1 : 安装gcc 编译器 
可使用RPM或YUM来安装, yum -y install gcc
step2 : 下载要安装的软件源码包
源代码文件保存位置: /usr/local/src/
软件安装位置: /usr/local/
step3 : 解压下载下来的源码包
tar -xzvf httpd-2.2.9.tar.gz
-x 解压
-z 有gzip属性的
-v 显示所有过程
-f 要解压的文件
step4 : 进入解后的文件夹
step5 : ./configure --prefix=/usr/local/apache2
此路径为默认路径, 实际安装时未指定, 但默认安装到这里了
软件配置与检查, 那个路径是指定软件的安装目录, 检测系统环境是否符合安装要求, 把定义好的功能选项和检测系统环境的信息写入Makefile文件中, 用于后续的编辑.
step6 : make
编译, 如果编译出错了, 需要重新编译的话, 可以使用make clean, 将刚才编译的文件清理掉.
step7 : make install
安装

没报错的话, 就表示安装完成了.
/usr/local/apache2/bin/apachectl -start 启动
实际安装中, 推荐使用命令
/usr/local/apache2/bin/httpd -k start
加入开机启动
chkconfig --add httpd
chkconfig --level 12345 httpd on
chkconfig --list httpd





